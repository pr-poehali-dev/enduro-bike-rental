import { useState, useRef } from 'react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
import Icon from '@/components/ui/icon';
import { useToast } from '@/hooks/use-toast';

interface Chapter {
  id: number;
  title: string;
  content: string[];
  imageUrl?: string;
}

const chapters: Chapter[] = [
  {
    id: 1,
    title: "–ì–ª–∞–≤–∞ 1. –†–∞–Ω–Ω–∏–µ –¥–Ω–∏ ‚Äî –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏",
    content: [
      "–°—É–¥–∂–∞–∫, –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –∂–∏–≤–æ–ø–∏—Å–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞ –ø–æ–±–µ—Ä–µ–∂—å–µ –ö—Ä—ã–º–∞, —Å –∫–∞–∂–¥—ã–º –≥–æ–¥–æ–º –ø—Ä–∏–≤–ª–µ–∫–∞–ª –≤—Å—ë –±–æ–ª—å—à–µ —Ç—É—Ä–∏—Å—Ç–æ–≤. –ï–≥–æ –∫—Ä–∞—Å–∏–≤–æ–µ –ø–æ–±–µ—Ä–µ–∂—å–µ –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –≤–∏–¥—ã –ø—Ä–∏–≤–ª–µ–∫–∞–ª–∏ –ª—é–¥–µ–π, –∂–µ–ª–∞—é—â–∏—Ö –ø—Ä–æ–≤–µ—Å—Ç–∏ –æ—Ç–ø—É—Å–∫ –≤–¥–∞–ª–∏ –æ—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–µ—Ç—ã. –ù–æ —Å—Ä–µ–¥–∏ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –±—ã–ª –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–µ—á—Ç–∞–ª –æ —á—ë–º-—Ç–æ –±–æ–ª—å—à–µ–º.",
      "–¢–æ–ª–∏–∫, –∫–∞–∫ –∏ –º–Ω–æ–≥–∏–µ –≤ –µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–µ, –µ—â—ë —Å –¥–µ—Ç—Å—Ç–≤–∞ –±—ã–ª –≤–ª—é–±–ª—ë–Ω –≤ –º–æ—Ç–æ—Ü–∏–∫–ª—ã. –ü–æ–º–Ω—è, –∫–∞–∫ –µ–≥–æ –æ—Ç–µ—Ü –±—Ä–∞–ª –µ–≥–æ –≤ —Å–≤–æ–∏ –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–µ, –¢–æ–ª–∏–∫ –º–µ—á—Ç–∞–ª –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–∑–Ω–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã —Å–æ–µ–¥–∏–Ω—è–ª –µ–≥–æ —Å—Ç—Ä–∞—Å—Ç—å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–∞—Ä–∏—Ç—å –ª—é–¥—è–º —ç–º–æ—Ü–∏–∏ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è.",
      "\"–ü—Ä–æ–∫–∞—Ç —Å–∫—É—Ç–µ—Ä–æ–≤?\" ‚Äî —ç—Ç–∞ –∏–¥–µ—è –ø—Ä–∏—à–ª–∞ –∫ –Ω–µ–º—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω —É–≤–∏–¥–µ–ª, –∫–∞–∫ –ª—é–¥–∏ —Å–∫—É—á–∞—é—Ç –≤ –ø–æ–∏—Å–∫–∞—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π. –ò–¥–µ—è –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–∞: –≤–µ–¥—å —Ç–∞–∫ –º–Ω–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–æ–≤ –ø—Ä–∏–µ–∑–∂–∞—é—Ç –≤ –ö—Ä—ã–º, –Ω–æ –Ω–µ –≤—Å–µ –∏–∑ –Ω–∏—Ö –º–æ–≥—É—Ç –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –∫—Ä–∞—Å–æ—Ç–æ–π –º–µ—Å—Ç–Ω—ã—Ö –¥–æ—Ä–æ–≥, –∞ —á—Ç–æ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ –µ–∑–¥–∏—Ç—å –ø–æ —ç—Ç–æ–º—É –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∫—Ä–∞—é –Ω–∞ —Å–∫—É—Ç–µ—Ä–∞—Ö? –°–Ω–∞—á–∞–ª–∞ —ç—Ç–æ –±—ã–ª–∞ –Ω–µ–±–æ–ª—å—à–∞—è –∞—Ä–µ–Ω–¥–∞ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∫—É—Ç–µ—Ä–æ–≤ –Ω–∞ –ø–ª—è–∂–µ. –ù–æ —ç—Ç–æ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–ª–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º, –∏ –∂–µ–ª–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏–≤–µ–ª–æ –∫ –ø–æ—è–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –≤–∏–¥–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ ‚Äî –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤.",
      "–ê–Ω—è, –µ–≥–æ –∂–µ–Ω–∞, –≤—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –µ–≥–æ –∏–¥–µ–∏, –Ω–æ –µ–π —Ç–∞–∫–∂–µ –±—ã–ª–æ –≤–∞–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å –±—ã–ª –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º. –û–Ω–∞ –≤–∑—è–ª–∞ –Ω–∞ —Å–µ–±—è —Ä–æ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –æ—Ç–≤–µ—á–∞—è –∑–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –†–∞–±–æ—Ç–∞—Ç—å —Å —Ç—É—Ä–∏—Å—Ç–∞–º–∏ –±—ã–ª–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ, –≤–µ–¥—å –Ω–µ –≤—Å–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ —Å —è—Å–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –æ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ —Ö–æ—Ç—è—Ç. –ù–æ –ê–Ω—è –±—ã—Å—Ç—Ä–æ –Ω–∞—É—á–∏–ª–∞—Å—å –≤–µ—Å—Ç–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, —É—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–∫–∞—Ç –∏ –ø–æ–º–æ–≥–∞—Ç—å –∏–º –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã."
    ],
    imageUrl: "https://images.unsplash.com/photo-1581360296985-6f2f9ef94b00"
  },
  {
    id: 2,
    title: "–ì–ª–∞–≤–∞ 2. –ü—Ä–æ–∫–∞—á–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ ‚Äî –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ –∫ —ç–Ω–¥—É—Ä–æ",
    content: [
      "–ü—Ä–æ–∫–∞—Ç —Å–∫—É—Ç–µ—Ä–æ–≤ —Å—Ç–∞–ª –ø–æ–ø—É–ª—è—Ä–Ω—ã–º, –Ω–æ –≤ –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç –¢–æ–ª–∏–∫ –ø–æ–Ω—è–ª, —á—Ç–æ –±–∏–∑–Ω–µ—Å –Ω–µ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ. –û–Ω –≤—Å–µ–≥–¥–∞ –º–µ—á—Ç–∞–ª –æ —á—ë–º-—Ç–æ –±–æ–ª—å—à–µ–º, –æ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è—Ö, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –æ–± —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–∏ –æ—Ç –ø—Ä–æ–≥—É–ª–æ–∫ –ø–æ –ø–ª—è–∂—É. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –∏–¥–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–∫–∞—Ç–∞ —ç–Ω–¥—É—Ä–æ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤.",
      "–≠–Ω–¥—É—Ä–æ –º–æ—Ç–æ—Ü–∏–∫–ª—ã —Ç—Ä–µ–±–æ–≤–∞–ª–∏ –±–æ–ª—å—à–µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –∏ —É—Ö–æ–¥–∞. –û–Ω–∏ –±—ã–ª–∏ –±–æ–ª–µ–µ –º–æ—â–Ω—ã–º–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏ –æ—Å–æ–±—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –¢–æ–ª–∏–∫ –∏ –ê–Ω—è –Ω–∞—á–∞–ª–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞–º –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —ç–∫—Å—Ç—Ä–∏–º –∏ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ –≥–æ—Ä –ö—Ä—ã–º–∞. –í—Å–∫–æ—Ä–µ –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤, –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –¥–ª—è —Ç–∞–∫–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, –∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç ‚Äî —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–µ–∑–¥–∫–∏ –ø–æ –≥–æ—Ä–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º.",
      "–ü–µ—Ä–≤—ã–º –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º —Å—Ç–∞–ª –°–µ—Ä—ë–∂–∞ ‚Äî –º–æ–ª–æ–¥–æ–π –∏ –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–π–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–ª –≤—Å–µ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏. –û–Ω –ø–æ–º–æ–≥–∞–ª –Ω–æ–≤–∏—á–∫–∞–º —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö, –æ–±—É—á–∞–ª –∏—Ö –±–∞–∑–æ–≤—ã–º –Ω–∞–≤—ã–∫–∞–º –≤–æ–∂–¥–µ–Ω–∏—è –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –¢–æ–ª–∏–∫ –∏ –ê–Ω—è —Ç–∞–∫–∂–µ –Ω–∞—á–∞–ª–∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å –±–æ–ª—å—à–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–∫–∞–ª–∏ –Ω–æ–≤—ã—Ö –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π.",
      "–û–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –°–µ—Ä–≥–µ–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–µ—Ö–∞–ª —Å –¥—Ä—É–∑—å—è–º–∏ –∏–∑ –ú–æ—Å–∫–≤—ã, –æ—Å—Ç–∞–≤–∏–ª –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–π –æ—Ç–∑—ã–≤ –æ –ø—Ä–æ–∫–∞—Ç–µ: ¬´–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω –∏ —É–≤–∏–¥–µ—Ç—å –ö—Ä—ã–º —Å –≤—ã—Å–æ—Ç—ã, —ç—Ç–æ –º–µ—Å—Ç–æ –¥–ª—è –≤–∞—Å! –ú—ã –∫–∞—Ç–∞–ª–∏—Å—å –ø–æ –≥–æ—Ä–∞–º, –≤—Å—Ç—Ä–µ—á–∞–ª–∏ –∑–∞–∫–∞—Ç, –∏ —ç—Ç–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ!¬ª –¢–∞–∫–∏–µ –æ—Ç–∑—ã–≤—ã –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ –¢–æ–ª–∏–∫–∞ –∏ –ê–Ω—é —Ä–∞–∑–≤–∏–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å –¥–∞–ª—å—à–µ. –°–∫–æ—Ä–æ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫ –≤ –∫–æ–º–∞–Ω–¥–µ ‚Äî –°–µ—Ä—ë–∂–∞, –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —ç–Ω–¥—É—Ä–æ, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –Ω–µ —Ç–æ–ª—å–∫–æ –æ–ø—ã—Ç–Ω—ã–º —Ä–∞–π–¥–µ—Ä–æ–º, –Ω–æ –∏ –∑–Ω–∞–ª –≤—Å–µ –Ω—é–∞–Ω—Å—ã –≥–æ—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤."
    ],
    imageUrl: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64"
  },
  {
    id: 3,
    title: "–ì–ª–∞–≤–∞ 3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–µ—Ä–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã",
    content: [
      "–ö–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å, –ø–æ—è–≤–∏–ª–æ—Å—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º. –ù–µ —Ö–≤–∞—Ç–∞–ª–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–µ—Ä–≤–∏—Å–∞, –∞ —Ç–µ—Ö–Ω–∏–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–µ—Ä–≤–æ–π –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π –∏ —à–∏–Ω–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. –¢–æ–ª–∏–∫ —Ä–µ—à–∏–ª –Ω–∞–Ω—è—Ç—å –æ–ø—ã—Ç–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∫–∞, –ù–∏–∫–∏—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –±—ã—Å—Ç—Ä–æ –Ω–∞–ª–∞–¥–∏–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.",
      "–ù–∏–∫–∏—Ç–∞, —Ö–æ—Ç—å –∏ –±—ã–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–ª–æ–¥, –∏–º–µ–ª –±–æ–ª—å—à–æ–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –º–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–æ–π, –∏ –µ–≥–æ –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è —Å—Ç–∞–ª–∞ –Ω–∞—Å—Ç–æ—è—â–µ–π –Ω–∞—Ö–æ–¥–∫–æ–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞. –¢–æ–ª–∏–∫ –Ω–µ –º–æ–≥ –Ω–µ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –±–µ–∑ —ç—Ç–æ–π –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π –±–∏–∑–Ω–µ—Å –Ω–µ –±—ã–ª –±—ã —Ç–∞–∫–∏–º —É—Å–ø–µ—à–Ω—ã–º, –∫–∞–∫ —Å—Ç–∞–ª. –û–Ω —Ç–∞–∫–∂–µ –Ω–∞—á–∞–ª —Ä–∞–∑–≤–∏–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∞—Å–ø–µ–∫—Ç—ã –±–∏–∑–Ω–µ—Å–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –∫–æ–º–ø–∞–Ω–∏—è –Ω–∞—á–∞–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏–∑–≤–µ—Å—Ç–Ω–æ–π –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –ö—Ä—ã–º—É, –Ω–æ –∏ –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª–∞–º–∏."
    ],
    imageUrl: "https://images.unsplash.com/photo-1594243982761-4072e9907c71"
  },
  {
    id: 4,
    title: "–ì–ª–∞–≤–∞ 4. –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º ‚Äî –ú–∞–∫—Å–∏–º–∞ –∏ –î–∏–º–∞",
    content: [
      "–ü–æ–º–∏–º–æ –°–µ—Ä—ë–∂–∏, –≤—Å–∫–æ—Ä–µ –≤ –∫–æ–º–∞–Ω–¥—É –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –ú–∞–∫—Å–∏–º. –û–Ω –±—ã–ª –Ω–æ–≤—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∏ –µ–≥–æ —Å—Ç—Ä–∞—Å—Ç—å –∫ –º–æ—Ç–æ—Ü–∏–∫–ª–∞–º –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º —Å—Ä–∞–∑—É –∑–∞–º–µ—Ç–∏–ª–∏. –ú–∞–∫—Å–∏–º –Ω–µ —Ç–æ–ª—å–∫–æ –±—ã–ª –æ—Ç–ª–∏—á–Ω—ã–º —Ä–∞–π–¥–µ—Ä–æ–º, –Ω–æ –∏ –æ–±–ª–∞–¥–∞–ª —Ö–∞—Ä–∏–∑–º–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–ª–∞ –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º –±—ã—Å—Ç—Ä–µ–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è. –û–Ω –±—ã–ª –≥–ª–∞–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞—Ö, –∏ –µ–≥–æ –ª–∏—á–Ω–æ–µ —É–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞—Ç–∞–Ω–∏–µ–º –ø–æ —Ç—Ä—É–¥–Ω—ã–º —Ç—Ä–∞—Å—Å–∞–º –≤–¥–æ—Ö–Ω–æ–≤–ª—è–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–¥–≤–∏–≥–∏.",
      "\"–°–ª—É—à–∞–π, —è –ª—é–±–ª—é —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –º–æ—Ç–æ—Ü–∏–∫–ª –±—É–∫–≤–∞–ª—å–Ω–æ –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏, ‚Äî –≥–æ–≤–æ—Ä–∏–ª –æ–Ω. ‚Äî –î–∞–≤–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ –æ—Ç–∫—Ä–æ–µ–º –º–∏—Ä –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –ª—é–¥–µ–π.\"",
      "–ú–∞–∫—Å–∏–º –≤–∑—è–ª –Ω–∞ —Å–µ–±—è –≤–∞–∂–Ω—É—é —Ä–æ–ª—å –≤ –æ–±—É—á–µ–Ω–∏–∏ –Ω–æ–≤–∏—á–∫–æ–≤. –û–Ω –æ—á–µ–Ω—å –ª—é–±–∏–ª –¥–µ–ª–∏—Ç—å—Å—è –æ–ø—ã—Ç–æ–º, –æ–±—É—á–∞—è –ª—é–¥–µ–π —Ç–æ–º—É, –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã. –ù–æ —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ. –ß–∞—Å—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –±–æ—è–ª–∏—Å—å –∏–ª–∏ –ø–µ—Ä–µ–∂–∏–≤–∞–ª–∏.",
      "–û–¥–Ω–∏–º –∏–∑ —Ç–∞–∫–∏—Ö –ª—é–¥–µ–π –±—ã–ª –î–∏–º–∞. –î–∏–º–∞ –±—ã–ª –ø–æ–º–æ—â–Ω–∏–∫–æ–º –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –Ω–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ú–∞–∫—Å–∏–º–∞, –æ–Ω –æ–±–ª–∞–¥–∞–ª —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–¥—å–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø—ã—Ç—ã–≤–∞–ª–∏ —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–¥ –º–æ—Ç–æ—Ü–∏–∫–ª–∞–º–∏. –û–Ω –≤—Å–µ–≥–¥–∞ —É–º–µ–ª –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å, –ø–æ–º–æ—á—å –Ω–∞ —Ç—Ä–∞—Å—Å–µ –∏, —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, —É–±–µ–¥–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞, —á—Ç–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫ —Å—Ç—Ä–∞—à–Ω–æ, –∫–∞–∫ –∫–∞–∂–µ—Ç—Å—è.",
      "–î–∏–º–∞ –±—ã–ª –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Ç–ª–∏—á–Ω—ã–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –Ω–æ –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º. –û–Ω —É–º–µ–ª –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å. –ï–≥–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–≤–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞–º –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –ª—é–±—ã–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏."
    ],
    imageUrl: "https://images.unsplash.com/photo-1588321733127-0f8c302b2b98"
  },
  {
    id: 5,
    title: "–ì–ª–∞–≤–∞ 5. –†–∞–∑–≤–∏—Ç–∏–µ –±–∏–∑–Ω–µ—Å–∞ ‚Äî –ú–∞—Ä—à—Ä—É—Ç—ã, –∫–ª–∏–µ–Ω—Ç—ã –∏ –Ω–æ–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è",
    content: [
      "–ë–ª–∞–≥–æ–¥–∞—Ä—è –æ—Ç–ª–∏—á–Ω–æ–π —Ä–∞–±–æ—Ç–µ –ú–∞–∫—Å–∏–º–∞ –∏ –î–∏–º—ã, –ø—Ä–æ–∫–∞—Ç —Å—Ç–∞–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –≤—Å—ë –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º. –ù–æ —Å —Ä–æ—Å—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ—è–≤–ª—è–ª–∏—Å—å –Ω–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã. –¢–æ–ª–∏–∫, –ê–Ω—è –∏ –∏—Ö –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ü–æ–º–∏–º–æ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤, –æ–Ω–∏ –Ω–∞—á–∞–ª–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç—É—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –Ω–æ—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏, —Å–µ–º–µ–π–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–æ–≤.",
      "\"–ú—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —á—Ç–æ-—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, —á—Ç–æ –ø—Ä–∏–≤–ª–µ–∫–ª–æ –±—ã –≤—Å–µ—Ö, ‚Äî –≥–æ–≤–æ—Ä–∏–ª –¢–æ–ª–∏–∫. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Ä—à—Ä—É—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–µ –¥–µ—Ä–µ–≤–Ω–∏, –≥–¥–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤—Å—ë, —á—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç –ö—Ä—ã–º.\"",
      "–ö–ª–∏–µ–Ω—Ç—ã –±—ã–ª–∏ –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ –æ—Ç —ç—Ç–∏—Ö –Ω–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—á–µ—Ç–∞–ª–∏ –≤ —Å–µ–±–µ —ç–∫—Å—Ç—Ä–∏–º –∏ –∫—É–ª—å—Ç—É—Ä—É, –ø—Ä–∏–≤–ª–µ–∫–ª–∏ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É—Ä–∏—Å—Ç–æ–≤. –ö–∞–∂–¥–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –±—ã–ª–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º, –Ω–æ –∏ –∫—É–ª—å—Ç—É—Ä–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º. –¢–æ–ª–∏–∫ –∏ –ê–Ω—è –≥–æ—Ä–¥–∏–ª–∏—Å—å —Ç–µ–º, —á—Ç–æ —Å–º–æ–≥–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—á—Ç–æ –±–æ–ª—å—à–µ–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∫–∞—Ç. –û–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ —Ü–µ–ª—ã–π –æ–ø—ã—Ç, –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ö—Ä—ã–º–∞, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Å–∏–≤–æ–π, –Ω–æ –∏ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π."
    ],
    imageUrl: "https://images.unsplash.com/photo-1590171602324-8a78ac7e2586"
  }
];

export default function Index() {
  const [currentChapter, setCurrentChapter] = useState<number | null>(null);
  const [direction, setDirection] = useState<'forward' | 'backward'>('forward');
  const [customImages, setCustomImages] = useState<Record<number, string>>({});
  const [isEditMode, setIsEditMode] = useState(false);
  const fileInputRef = useRef<HTMLInputElement>(null);
  const { toast } = useToast();

  const goToChapter = (chapterId: number) => {
    if (currentChapter !== null) {
      setDirection(chapterId > currentChapter ? 'forward' : 'backward');
    }
    setTimeout(() => setCurrentChapter(chapterId), 50);
  };

  const goToNextChapter = () => {
    if (currentChapter === null) {
      goToChapter(1);
    } else if (currentChapter < chapters.length) {
      goToChapter(currentChapter + 1);
    }
  };

  const goToPrevChapter = () => {
    if (currentChapter && currentChapter > 1) {
      goToChapter(currentChapter - 1);
    } else if (currentChapter === 1) {
      setCurrentChapter(null);
    }
  };

  const goToContents = () => {
    setCurrentChapter(null);
  };

  const handleImageUpload = (chapterId: number, event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      if (file.size > 5 * 1024 * 1024) {
        toast({
          title: '–û—à–∏–±–∫–∞',
          description: '–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 5 –ú–ë',
          variant: 'destructive'
        });
        return;
      }
      
      const reader = new FileReader();
      reader.onloadend = () => {
        setCustomImages(prev => ({
          ...prev,
          [chapterId]: reader.result as string
        }));
        toast({
          title: '–£—Å–ø–µ—à–Ω–æ!',
          description: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞',
        });
      };
      reader.readAsDataURL(file);
    }
  };

  const removeImage = (chapterId: number) => {
    setCustomImages(prev => {
      const newImages = { ...prev };
      delete newImages[chapterId];
      return newImages;
    });
    toast({
      title: '–£–¥–∞–ª–µ–Ω–æ',
      description: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É–¥–∞–ª–µ–Ω–∞'
    });
  };

  const getCurrentImage = (chapter: Chapter) => {
    return customImages[chapter.id] || chapter.imageUrl;
  };

  if (currentChapter === null) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100">
        <div className="container mx-auto px-4 py-8 max-w-4xl">
          <div className="animate-fade-in">
            <Card className="overflow-hidden border-2 border-primary/20 shadow-2xl">
              <div className="bg-gradient-to-br from-primary to-orange-600 text-white p-12 text-center">
                <div className="mb-6">
                  <Icon name="Book" size={64} className="mx-auto opacity-90" />
                </div>
                <h1 className="text-4xl md:text-5xl font-bold mb-4 leading-tight">
                  –ò—Å—Ç–æ—Ä–∏—è –ü—Ä–æ–∫–∞—Ç–∞<br />–≠–Ω–¥—É—Ä–æ –ú–æ—Ç–æ—Ü–∏–∫–ª–æ–≤<br />–≤ –ö—Ä—ã–º—É
                </h1>
                <p className="text-xl opacity-90 mt-6">
                  –û—Ç –º–µ—á—Ç—ã –∫ —É—Å–ø–µ—à–Ω–æ–º—É –±–∏–∑–Ω–µ—Å—É
                </p>
              </div>
              
              <div className="p-8 md:p-12 bg-white">
                <h2 className="text-2xl font-bold text-secondary mb-6 text-center">
                  –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
                </h2>
                <div className="space-y-4">
                  {chapters.map((chapter, index) => (
                    <button
                      key={chapter.id}
                      onClick={() => goToChapter(chapter.id)}
                      className="w-full text-left p-4 rounded-lg border-2 border-muted hover:border-primary hover:bg-orange-50 transition-all duration-300 group"
                    >
                      <div className="flex items-center gap-4">
                        <div className="flex-shrink-0 w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold group-hover:bg-primary group-hover:text-white transition-all">
                          {index + 1}
                        </div>
                        <div className="flex-1">
                          <h3 className="font-semibold text-secondary group-hover:text-primary transition-colors">
                            {chapter.title}
                          </h3>
                        </div>
                        <Icon name="ChevronRight" size={20} className="text-muted-foreground group-hover:text-primary transition-colors" />
                      </div>
                    </button>
                  ))}
                </div>
              </div>
            </Card>
          </div>
        </div>
      </div>
    );
  }

  const chapter = chapters.find(c => c.id === currentChapter);
  
  if (!chapter) return null;

  return (
    <div className="min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100">
      <div className="container mx-auto px-4 py-8 max-w-4xl">
        <div className={`animate-${direction === 'forward' ? 'slide-in' : 'fade-in'}`}>
          <Card className="overflow-hidden border-2 border-primary/20 shadow-xl">
            <div className="bg-gradient-to-r from-primary to-orange-600 text-white px-6 py-4 flex items-center justify-between">
              <Button
                variant="ghost"
                size="sm"
                onClick={goToContents}
                className="text-white hover:bg-white/20"
              >
                <Icon name="BookOpen" size={20} className="mr-2" />
                –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
              </Button>
              <div className="flex items-center gap-4">
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => setIsEditMode(!isEditMode)}
                  className="text-white hover:bg-white/20"
                >
                  <Icon name={isEditMode ? "Eye" : "Pencil"} size={18} className="mr-2" />
                  {isEditMode ? '–ü—Ä–æ—Å–º–æ—Ç—Ä' : '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å'}
                </Button>
                <div className="text-sm font-medium opacity-90">
                  –ì–ª–∞–≤–∞ {chapter.id} –∏–∑ {chapters.length}
                </div>
              </div>
            </div>

            <div className="p-8 md:p-12 bg-white">
              <h1 className="text-3xl md:text-4xl font-bold text-secondary mb-8 leading-tight">
                {chapter.title}
              </h1>

              <div className="mb-8 rounded-lg overflow-hidden shadow-lg border-2 border-muted">
                {getCurrentImage(chapter) ? (
                  <div className="relative group">
                    <img 
                      src={getCurrentImage(chapter)} 
                      alt={chapter.title}
                      className="w-full h-64 md:h-96 object-cover"
                    />
                    {isEditMode && (
                      <div className="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3">
                        <Button
                          onClick={() => fileInputRef.current?.click()}
                          size="sm"
                          className="bg-white text-primary hover:bg-white/90"
                        >
                          <Icon name="Upload" size={18} className="mr-2" />
                          –ó–∞–º–µ–Ω–∏—Ç—å
                        </Button>
                        {customImages[chapter.id] && (
                          <Button
                            onClick={() => removeImage(chapter.id)}
                            size="sm"
                            variant="destructive"
                          >
                            <Icon name="Trash2" size={18} className="mr-2" />
                            –£–¥–∞–ª–∏—Ç—å
                          </Button>
                        )}
                      </div>
                    )}
                  </div>
                ) : (
                  <div 
                    onClick={() => isEditMode && fileInputRef.current?.click()}
                    className={`w-full h-64 md:h-96 bg-muted flex flex-col items-center justify-center ${isEditMode ? 'cursor-pointer hover:bg-muted/80' : ''}`}
                  >
                    <Icon name="ImagePlus" size={48} className="text-muted-foreground mb-4" />
                    <p className="text-muted-foreground">
                      {isEditMode ? '–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ' : '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞'}
                    </p>
                  </div>
                )}
                <input
                  ref={fileInputRef}
                  type="file"
                  accept="image/*"
                  className="hidden"
                  onChange={(e) => handleImageUpload(chapter.id, e)}
                />
                {isEditMode && (
                  <div className="bg-orange-50 px-4 py-2 text-sm text-primary text-center border-t border-primary/20">
                    üí° –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ñ–æ—Ç–æ, —á—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ —Å–≤–æ–∏–º
                  </div>
                )}
              </div>

              <div className="prose prose-lg max-w-none">
                {chapter.content.map((paragraph, index) => (
                  <p key={index} className="mb-6 text-foreground leading-relaxed text-lg">
                    {paragraph}
                  </p>
                ))}
              </div>

              <div className="mt-12 pt-8 border-t-2 border-muted flex justify-between items-center">
                <Button
                  variant="outline"
                  onClick={goToPrevChapter}
                  disabled={currentChapter === 1}
                  className="group"
                >
                  <Icon name="ChevronLeft" size={20} className="mr-2 group-hover:-translate-x-1 transition-transform" />
                  {currentChapter === 1 ? '–ö —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é' : '–ù–∞–∑–∞–¥'}
                </Button>
                
                {currentChapter < chapters.length && (
                  <Button
                    onClick={goToNextChapter}
                    className="group"
                  >
                    –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞
                    <Icon name="ChevronRight" size={20} className="ml-2 group-hover:translate-x-1 transition-transform" />
                  </Button>
                )}

                {currentChapter === chapters.length && (
                  <Button
                    onClick={goToContents}
                    variant="outline"
                  >
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é
                  </Button>
                )}
              </div>
            </div>
          </Card>
        </div>
      </div>
    </div>
  );
}